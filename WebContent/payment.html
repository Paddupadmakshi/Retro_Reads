<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Payment Page</title>

<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css">
 
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"> </script>

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"> </script>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" integrity="sha384-aF5u8ZqF5K5i5n5t6t6twbsybs3zk5+2x5C0Gp5Pjq/dxK2Oz0qEc5P5k5I5F5f5e5" crossorigin="anonymous">


<link rel="stylesheet" href="styles.css">

<style>
.row {
	display: -ms-flexbox; /* IE10 */
	display: flex;
	-ms-flex-wrap: wrap; /* IE10 */
	flex-wrap: wrap;
	margin: 0 -16px;
}

.col-25 {
	-ms-flex: 25%; /* IE10 */
	flex: 25%;
}

.col-50 {
	-ms-flex: 50%; /* IE10 */
	flex: 50%;
}

.col-75 {
	-ms-flex: 75%; /* IE10 */
	flex: 75%;
}

.col-25, .col-50, .col-75 {
	padding: 0 16px;
}

.container {
	background-color: #f2f2f2;
	padding: 5px 20px 15px 20px;
	border: 1px solid lightgrey;
	border-radius: 3px;
}

input[type=text] {
	width: 100%;
	margin-bottom: 20px;
	padding: 12px;
	border: 1px solid #ccc;
	border-radius: 3px;
}

label {
	margin-bottom: 10px;
	display: block;
}

.icon-container {
	margin-bottom: 20px;
	padding: 7px 0;
	font-size: 24px;
}

.btn {
	background-color: #04AA6D;
	color: white;
	padding: 12px;
	margin: 10px 0;
	border: none;
	width: 100%;
	border-radius: 3px;
	cursor: pointer;
	font-size: 17px;
}

.btn:hover {
	background-color: #45a049;
}

span.price {
	float: right;
	color: grey;
}

/* Responsive layout - when the screen is less than 800px wide, make the two columns stack on top of each other instead of next to each other (and change the direction - make the "cart" column go on top) */
@media ( max-width : 800px) {
	.row {
		flex-direction: column-reverse;
	}
	.col-25 {
		margin-bottom: 20px;
	}
}
</style>
</head>
<body>
	<!--<header>
		<nav class="navbar navbar-expand-sm bg-dark">
			<a class="navbar-brand">  The below line can be an image or a h1, either will work 
				<img src="logo.png" alt="Google logo" width="60" height="30px">
			</a>

			<button style="background-color: white;" class="navbar-toggler"
				type="button" data-toggle="collapse" data-target="#navbarNav"
				aria-controls="navbarNav" aria-expanded="false"
				aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>

			<div class="collapse navbar-collapse" id="navbarNav">
				<ul class="navbar-nav">
					<li class="nav-item"><span><a class="nav-link active"
							href="viewbook">Home</a></span></li>
					<li class="nav-item "><span><a class="nav-link"
							href="viewbook">Available Books</a></span></li>
					<li class="nav-item "><span><a class="nav-link"
							href="about.html">About Us</a></span></li>
					<li class="nav-item "><span><a
							class="nav-link glyphicon  glyphicon-shopping-cart " href="cart">Cart</a></span></li>
					<li class="nav-item "><span><a class="nav-link"
							href="logout">Logout</a></span></li>
				</ul>
			</div>
		</nav>
	</header>-->
		<nav class="navbar">
        <div class="logo">
            <img src="./books.png" alt="logo">
        </div>
        <div class="menu-toggle" id="menu-toggle">
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
        </div>
        <ul class="nav-links" id="nav-links">
            <li><a href="viewbook">Home</a></li>
            <li><a href="./AboutUs.html">About Us</a></li>
            <li><a href="viewbook">Available Books</a></li>
            <li><a href="cart"><i class="fi fi-rs-shopping-cart">Cart</i></a></li>
            <li><a href="logout">Logout</a></li>
        </ul>
    </nav>

	<div class="container">
	 <div id='topmid' style= "color: #FFFFFF;  text-align: center; text-shadow: 2px 2px #ff0000;  width: 100%;  margin-bottom: 10px; padding: 8px; font-weight: bold; font-size: 25px; font-style: oblique;" >Cart Checkout</div>
		<div class="row">
			<div class="col-75">
				<div class="container">
					<form action="pay" method="post">
						<div class="row">
							<div class="col-50">
								<h3>Billing Address</h3>
								
								<label for="fname"><i class="fa fa-user"></i> Full Name</label>
								<input type="text" id="fname" name="firstname" required placeholder="John M. Doe"> 
								
								<label for="email"><i class="fa fa-envelope"></i> Email</label> 
								<input type="text" id="email" required name="email" placeholder="john@example.com"> 
									
								<label for="adr"><i class="fa fa-address-card-o"></i> Address</label>
								<input type="text" id="adr" name="address" placeholder="5 Francis Street, Luton, LU1 1HP" required> 
								
								<label for="city"><i class="fa fa-institution"></i> City</label> 
								<input type="text" id="city" name="city" placeholder="London">

								<div class="row">
									
									<div class="col-50">
										<label for="zip">Postal Code</label> 
										<input type="text" id="zip" name="zip" placeholder="LU1 1HP" required>
									</div>
								</div>
							</div>

							<div class="col-50">
								<h3>Payment</h3>
								<label for="fname">Accepted Cards</label>
								<div class="icon-container">
									<i class="fa fa-cc-visa" style="color: navy;"></i> <i
										class="fa fa-cc-amex" style="color: blue;"></i> <i
										class="fa fa-cc-mastercard" style="color: red;"></i> <i
										class="fa fa-cc-discover" style="color: orange;"></i>
								</div>
								<label for="cname">Name on Card</label> 
								<input type="text" id="cname" name="cardname" placeholder="John More Doe" required>
								
								<label for="ccnum">Credit card number</label>
								 <input type="text" onchange="cardValidate()" id="ccnum" name="cardnumber" placeholder="1111-2222-3333-4444" required> 
									
								<label for="expmonth">Expiry </label> 
								<input type="text" id="expmonth" name="expmonth" placeholder="06/24" onchange="expValidate()">

								<div class="row">
									
									<div class="col-50">
										<label for="cvv">CVV</label> <input type="text" id="cvv" onchange="cvvValidate()"
											name="cvv" placeholder="624">
									</div>
								</div>
							</div>

						</div>
						<label> <input type="checkbox" checked="checked"
							name="sameadr"> Shipping address same as billing
						</label>
						
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"> </script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.6/dist/umd/popper.min.js"> </script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.2.1/dist/js/bootstrap.min.js"></script>
		<script>
        document.addEventListener('DOMContentLoaded', function () {
	    const menuToggle = document.getElementById('menu-toggle');
	    const navLinks = document.getElementById('nav-links');
	
	    menuToggle.addEventListener('click', function () {
        navLinks.classList.toggle('active');
    });
	});
	
	function cardValidate(){
						const cardNumberInput = document.getElementById('ccnum');
						const cardNumber = cardNumberInput.value.replace(/\s/g, ''); // Remove spaces
						
						 // Check if the card number consists of 13 to 19 digits
           				 const cardNumberRegex = /^\d{13,19}$/;
            			 if (!cardNumberRegex.test(cardNumber)) {
                			alert('Invalid card number format.')
           				 }
						
					}
					
					function expValidate(){
					 	const expiryDateInput = document.getElementById('expmonth');
						const expiryDate = expiryDateInput.value;
						const expiryDateRegex = /^(0[1-9]|1[0-2])\/\d{2}$/;
				            if (!expiryDateRegex.test(expiryDate)) {
								alert('Invalid expiry date format (MM/YY)')
				                
				            }
				        const currentDate = new Date();
			            const currentYear = currentDate.getFullYear() % 100; // Get the last 2 digits of the current year
			            const currentMonth = currentDate.getMonth() + 1; // Month is zero-based
			
			            const inputYear = parseInt(expiryDate.split('/')[1], 10);
			            const inputMonth = parseInt(expiryDate.split('/')[0], 10);
			
			            // Check if the expiry date is in the future
			            if (inputYear < currentYear || (inputYear === currentYear && inputMonth < currentMonth)) {
							alert('Card has expired.')
			               
			            }
						
					}
					function cvvValidate(){
					 	const cvvInput = document.getElementById('cvv');
						const cvv = cvvInput.value;
						const cvvRegex = /^\d{2,3}$/;
			            if (!cvvRegex.test(cvv)) {
								alert('Invalid CVV format.')
			             
			            }
						
					}
	
	
    </script>
</body>
</html>